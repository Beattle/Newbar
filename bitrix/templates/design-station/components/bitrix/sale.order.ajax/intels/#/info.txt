http://dev.1c-bitrix.ru/user_help/store/sale/components_2/order/sale_order_ajax.php

Админка - Поля заказа
---------------------
Магазин - Настройки магазина - Свойства заказа - Список свойств/группы свойств:
- Поле E-mail должно присутствовать и у него должен стоять флажок "Использовать как e-mail". 
- Если у свойства будет стоять "Входит в профиль", то при последующем заказе (если авторизация не слетела), поле будет заполнено.

Админка - Настройки авторизации
-------------------------------
Настройки - Настройки продукта - Настройки модулей - Главный модуль - Авторизация - Регистрация новых пользователей:
- Позволять ли пользователям регистрироваться самостоятельно - да
- Остальное отключить.

Include
-------
$APPLICATION->IncludeComponent("bitrix:sale.order.ajax", "intels", Array(
	"ALLOW_AUTO_REGISTER" => "Y", // ф-ция автоматической регистрации на сайте
	"SEND_NEW_USER_NOTIFY" => "N" // письмо с уведомлением о регистрации

));

Почтовый шаблон - Новый заказ
-----------------------------
Настройки - Настройки продукта - Почтовые события - Почтовые шаблоны - Новый заказ.

Комментарии
-----------
Если корзина пуста, то компонент редиректит на корзину (это происходит в самом компоненте, а не в его шаблоне). Поэтому надо ставить условие, что если корзина пуста, то компонент вообще не подключать.

В файле confirm.php необходимо сделать изменения в тексте для каждого нового клиента.





